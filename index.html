<!DOCTYPE html>
<html lang="en">
<style>
  ::-webkit-scrollbar { display: none; }
  html, body { scrollbar-width: none; -ms-overflow-style: none; }
</style>

<head>
  <title>Bideford Baptist Church</title>
  <link rel="icon" href="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%2Fid%2FOIP.spzP75vpmyv707l8oLl0OAAAAA%3Fpid%3DApi&f=1&ipt=21f454a2709f997dd2aee255e92794874b175c609bb95631bfade06a4078e4ce&ipo=images" type="image/png">
</head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Bideford Baptist Church</title>
<!-- Google Fonts & Font Awesome -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
<style>
/* Reset & Basic Styles */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Inter', sans-serif;
  display: flex;
  height: 100vh;
  background: #f7f9fc;
  color: #333;
}

/* Sidebar styles */
.sidebar {
  width: 280px;
  background-color: #1e293b;
  color: #fff;
  display: flex;
  flex-direction: column;
  position: relative;
  transition: transform 0.3s ease;
  z-index: 10;
}
.sidebar-header {
  padding: 25px 20px 10px 20px;
}
.sidebar-header h2 {
  font-size: 22px;
  font-weight: 700;
  margin-bottom: 15px;
  text-align: center;
}
.search-box {
  display: flex;
  align-items: center;
  background: #3b82f6;
  border-radius: 50px;
  padding: 8px 12px;
  margin: 10px 20px;
}
.search-box i {
  color: #a0aec0;
}
.search-box input {
  border: none;
  background: transparent;
  color: #fff;
  margin-left: 10px;
  width: 100%;
  outline: none;
  font-size: 14px;
}
.sidebar-links {
  flex: 1;
  overflow-y: auto;
  padding-bottom: 20px;
}
.sidebar::-webkit-scrollbar {
  display: none;
}
.sidebar {
  scrollbar-width: none;
}
.sidebar a {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  margin-bottom: 8px;
  border-radius: 8px;
  text-decoration: none;
  color: #fff;
  font-weight: 500;
}
.sidebar a i {
  margin-right: 10px;
  width: 20px;
  text-align: center;
}
.sidebar a:hover,
.sidebar a.active {
  background: #3a4b63;
  transform: translateX(5px);
}
.sidebar .dropdown {
  flex-direction: column;
  position: relative;
}
.sidebar .dropdown > a i.fas.fa-caret-down {
  transition: transform 0.3s ease;
}
.sidebar .dropdown.active > a i.fas.fa-caret-down {
  transform: rotate(180deg);
}
.sidebar .dropdown-content {
  display: flex;
  flex-direction: column;
  margin-left: 20px;
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: max-height 0.5s ease, opacity 0.5s ease;
}
.sidebar .dropdown.active .dropdown-content {
  max-height: 500px;
  opacity: 1;
}
.sidebar .dropdown-content a {
  margin-bottom: 5px;
  font-size: 14px;
  padding: 8px 12px;
  border-radius: 5px;
  color: #fff;
}
.sidebar .dropdown-content a:hover {
  background: #475569;
  cursor: pointer;
}
.sidebar-contact-wrapper {
  flex-shrink: 0;
  width: 100%;
  position: sticky;
  bottom: 0;
}
.sidebar-contact {
  background: #1e293b;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 15px;
  font-weight: 500;
  cursor: pointer;
  border-top: 1px solid #475569;
  width: 100%;
}

/* Main content styles */
.main {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}
h1 { font-size: 36px; margin-bottom: 15px; }
p { font-size: 18px; line-height: 1.7; margin-bottom: 30px; }
img { display: block; margin: 30px auto 0 auto; border-radius: 10px; object-fit: cover; width: 25%; aspect-ratio: 1/1; }
.homepage-img { width: 500px; height: 625px; margin: 50px auto 20px auto; }
.gallery-container {
  display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;
}
.gallery-container img {
  width: 200px; height: 200px; object-fit: cover; cursor: pointer; transition: 0.3s;
}
.gallery-container img.enlarged {
  width: 80vw; height: 80vw; max-width: 600px; max-height: 600px; position: relative; z-index: 1000;
}

/* Overlay for enlarged images */
#imageOverlay {
  display: none;
  position: fixed; top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.8);
  justify-content: center; align-items: center; flex-direction: column; z-index: 2000;
}
#imageOverlay.show { display: flex; }
#enlargedImage { max-height: 90vh; max-width: 90vw; object-fit: contain; border-radius: 10px; }
#navArrows { margin-top: 10px; display: flex; gap: 20px; }
.navArrow { font-size: 2em; color: #fff; cursor: pointer; }

/* Calendar styles */
.calendar-controls {
  display: flex; justify-content: center; align-items: center; gap: 15px; margin-bottom: 15px;
}
.calendar-controls button {
  padding: 5px 10px; border: none; border-radius: 5px; background: #000; color: #fff; font-weight: 600; cursor: pointer;
}
.calendar-month {
  font-size: 22px; font-weight: 600; text-align: center; margin-bottom: 10px; flex-grow: 1;
}
.calendar-header {
  display: grid; grid-template-columns: repeat(7, 1fr);
  text-align: center; font-weight: 600;
}
.calendar-header div {
  border: 2px solid black; padding: 10px; background: #d1d5db;
}
.calendar-grid {
  display: grid; grid-template-columns: repeat(7, 1fr);
  border-left: 2px solid black; border-top: 2px solid black;
}
.day {
  min-height: 100px;
  border-right: 2px solid black; border-bottom: 2px solid black;
  display: flex; flex-direction: column; align-items: center; padding: 5px; font-size: 14px; cursor: pointer; justify-content: flex-start;
}
.day .date-number {
  font-weight: 600; font-size: 14px; margin-bottom: 5px;
}
.day.other-month {
  background: #b0b0b0; color: #666;
}
.day .event {
  background: #e0f2ff; color: #1d4ed8; font-size: 14px; padding: 4px 6px; border-radius: 6px; margin-top: 4px; cursor: pointer;
}
#calendarEventDisplay {
  margin-top: 25px; padding: 15px; border-radius: 10px; background: #e0f2ff; color: #1d4ed8; font-weight: 600; font-size: 18px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

/* Hide full sidebar on small screens (mobile) */
@media (max-width: 899px) {
  .sidebar {
    display: none !important; /* Hide desktop sidebar on mobile */
  }
  .mobile-topbar,
  .overlay {
    display: flex !important; /* Show mobile topbar & overlay */
  }
}

/* Hide mobile topbar on desktop, show desktop sidebar */
@media (min-width: 900px) {
  .mobile-topbar,
  .overlay {
    display: none !important; /* Hide mobile menu button and overlay on large screens */
  }
  .sidebar {
    display: flex !important;   /* Show desktop sidebar */
    transform: none !important;
    position: relative !important;
    width: 280px;
  }
  body {
    flex-direction: row;
  }
}

</style>
</head>
<body>

<!-- Mobile Topbar -->
<div class="mobile-topbar" style="background:#1e293b; color:#fff; padding:10px; display:flex; align-items:center;">
  <span class="hamburger" style="cursor:pointer; margin-right:10px;"><i class="fas fa-bars"></i></span>
  <h2 style="font-size:1.2em;">Bideford Baptist Church</h2>
</div>
<div class="overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:9;"></div>

<!-- Sidebar navigation -->
<nav class="sidebar">
  <div class="sidebar-header">
    <h2>Bideford Baptist Church</h2>
    <div class="search-box">
      <i class="fas fa-search"></i>
      <input type="text" id="searchInput" placeholder="Search..."/>
    </div>
  </div>
  <div class="sidebar-links">
    <a data-page="home"><i class="fas fa-home"></i> Home</a>
    <div class="dropdown">
      <a style="cursor:pointer;"><i class="fas fa-info-circle"></i> About Us <i class="fas fa-caret-down" style="margin-left:auto;"></i></a>
      <div class="dropdown-content">
        <a data-page="pastor">Our Pastor</a>
        <a data-page="deacons">The Deacons</a>
      </div>
    </div>
    <div class="dropdown">
      <a style="cursor:pointer;"><i class="fas fa-image"></i> Gallery <i class="fas fa-caret-down" style="margin-left:auto;"></i></a>
      <div class="dropdown-content">
        <a data-page="images">Images</a>
        <a data-page="videos">Videos</a>
        <a data-page="sermons">Sermons</a>
      </div>
    </div>
    <div class="dropdown">
      <a style="cursor:pointer;"><i class="fas fa-file-alt"></i> Policies <i class="fas fa-caret-down" style="margin-left:auto;"></i></a>
      <div class="dropdown-content">
        <a target="_blank" href="https://www.bidefordbaptist.org.uk/welcome/">Redirect</a>
      </div>
    </div>
    <a data-page="calendar"><i class="fas fa-calendar-alt"></i> Calendar</a>
    <a data-page="events"><i class="fas fa-bullhorn"></i> Events</a>
    <a data-page="resources"><i class="fas fa-folder-open"></i> Resources</a>
    <a data-page="devotional"><i class="fas fa-book-open"></i> Devotional</a>
    <a data-page="vision"><i class="fas fa-lightbulb"></i> Vision & Christian Living</a>
    <a data-page="links"><i class="fas fa-link"></i> Links</a>
  </div>
  <div class="sidebar-contact-wrapper">
    <div class="sidebar-contact" data-page="contact">Contact Us</div>
  </div>
</nav>

<!-- Main content area -->
<div class="main" id="mainContent"></div>

<!-- Image overlay for enlarged images -->
<div id="imageOverlay" style="display:none; align-items:center; justify-content:center; flex-direction:column; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.8); z-index:2000;">
  <img id="enlargedImage" src="" style="max-height:90vh; max-width:90vw; object-fit:contain; border-radius:10px; margin:auto;">
  <div id="navArrows" style="margin-top:10px; display:flex; gap:20px;">
    <div class="navArrow" id="prevImg"><i class="fas fa-chevron-left"></i></div>
    <div class="navArrow" id="nextImg"><i class="fas fa-chevron-right"></i></div>
  </div>
</div>

<script>
// Mobile menu toggle
const hamburger = document.querySelector('.hamburger');
const sidebar = document.querySelector('.sidebar');
const overlay = document.querySelector('.overlay');

hamburger.addEventListener('click', () => {
  sidebar.classList.toggle('open');
  overlay.style.display='block';
});
overlay.addEventListener('click', () => {
  sidebar.classList.remove('open');
  overlay.style.display='none';
});

// Dropdown toggle
document.querySelectorAll('.sidebar .dropdown > a').forEach(d => {
  d.addEventListener('click', () => {
    d.parentElement.classList.toggle('active');
  });
});

// Navigation links
const links = document.querySelectorAll('.sidebar a[data-page]');
const contactBtn = document.querySelector('.sidebar-contact');

contactBtn.addEventListener('click', () => {
  if (window.innerWidth <= 900) {
    sidebar.classList.remove('open');
    overlay.style.display='none';
  }
  navigateTo('contact');
});

links.forEach(link => {
  link.addEventListener('click', () => {
    if (window.innerWidth <= 900) {
      sidebar.classList.remove('open');
      overlay.style.display='none';
    }
    navigateTo(link.getAttribute('data-page'));
  });
});

// Search filter
document.getElementById('searchInput').addEventListener('keyup', () => {
  const val = document.getElementById('searchInput').value.toLowerCase();
  document.querySelectorAll('.sidebar a').forEach(link => {
    if(link.textContent.toLowerCase().includes(val)){
      link.style.display='flex';
    } else {
      link.style.display='none';
    }
  });
});

// Gallery images array
const galleryImages = [
  'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%2Fid%2FOIP.vzr_FOhPzlmkPEomPrWFBwHaJ4%3Fpid%3DApi&f=1', // Front of church KEEP AT 1ST (IMPORTANT)
  'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%2Fid%2FOIP.Krv39rr_PYbGvAnm7Rm5GgAAAA%3Fpid%3DApi&f=1', // Adrian KEEP AT 2ND (IMPORTANT)
  'https://www.bidefordbaptist.org.uk/content/pages/uploaded_images/1647720149-3IvjEpJt.jpg?1730222694', // Deacons
  'https://www.bidefordbaptist.org.uk/content/pages/uploaded_images/18.jpg', // Janice
  'https://www.bidefordbaptist.org.uk/content/pages/uploaded_images/15.jpg', // Pam
  'https://www.bidefordbaptist.org.uk/content/pages/uploaded_images/16.jpg', // John
  'https://www.bidefordbaptist.org.uk/content/images/original/jrx3koc4wq2luv5h6ignsb7tm09da8yf1pe.jpeg' // Brian
  
];

let currentImageIdx=0;

function loadImages() {
  const main=document.getElementById('mainContent');
  let html=`<h1>Images</h1><div class="gallery-container">`;
  galleryImages.forEach((src,i)=>{
    html+=`<img src="${src}" data-index="${i}">`;
  });
  html+=`</div>`;
  main.innerHTML=html;
  document.querySelectorAll('.gallery-container img').forEach((img,i)=>{
    img.addEventListener('click', ()=>{showEnlarged(i);});
  });
}

function showEnlarged(i) {
  currentImageIdx=i;
  document.getElementById('enlargedImage').src=galleryImages[i];
  document.getElementById('imageOverlay').style.display='flex';
}

document.getElementById('imageOverlay').addEventListener('click', e => {
  if(e.target.id==='imageOverlay') {
    document.getElementById('imageOverlay').style.display='none';
  }
});
document.getElementById('prevImg').addEventListener('click', () => {
  currentImageIdx=(currentImageIdx-1+galleryImages.length)%galleryImages.length;
  document.getElementById('enlargedImage').src=galleryImages[currentImageIdx];
});
document.getElementById('nextImg').addEventListener('click', () => {
  currentImageIdx=(currentImageIdx+1)%galleryImages.length;
  document.getElementById('enlargedImage').src=galleryImages[currentImageIdx];
});

// Navigation function
function navigateTo(page) {
  const main = document.getElementById('mainContent');
  document.querySelectorAll('.sidebar a').forEach(l => {
    l.classList.toggle('active', l.getAttribute('data-page')===page);
  });
  
  if (page==='home') {
    main.innerHTML = `
      <h1>Welcome to Bideford Baptist Church</h1>
      <p>The House that welcomes, loves, and accepts us exactly as we are.</p>
      <img src="${galleryImages[0]}" class="homepage-img" alt="Church Image"/>
    `;
  } else if (page==='pastor') {
    main.innerHTML = `
      <h1>Our Pastor</h1>
      <div style="display:flex; align-items:flex-start; gap:20px;">
        <img src="${galleryImages[1]}" style="width:300px; border-radius:10px;"/>
        <div style="font-size:20px; line-height:1.5; color:black;">
          I grew up in Herefordshire where as a family we attended an Independent Baptist Church. I committed my life to Christ as a child and was baptised as a teenager. My personal relationship with Jesus came alive during my time as a student training to be a PE teacher. Here I mixed with people from all denominations in a vibrant Christian Union. On leaving college I took up a teaching post at a small boarding school. I worked there for 12 years, during which time I married Cath and our first child was born. Sensing a call to some kind of mission work we contacted WEC International and as a result I left teaching and studied for 2 years at Northumbria Bible College. Cath had already studied at Birmingham Bible Institute for 3 years before we met, so she was waiting for me to catch up ! 

          The WEC course was a wonderful time, meeting so many people working in different parts of the world, but sadly for us there was a growing realisation that this was not what God had for us. We completed the course but did not go forward to join WEC.  Two years later, after a testing time of exploring God's call on our lives, we took up a part time Pastorate of a Baptist Church in Somerset, which is where our second child was born.  I was encouraged by the then Superintendent to become an Accredited Baptist Minister, a process which was finally completed during our second Pastorate in Cheshire. From there we moved to the West Midlands and enjoyed a very happy 11+ years serving a diverse community.  It was a great surprise to us that during 2019 God made it perfectly clear that we should come here to Bideford. Having taken up the Pastorate in December 2019, we are excited about what God is going to do through us and the Church Fellowship as we seek to serve Him and make His Name known here in North Devon. 
        </div>
      </div>
    `;
  } else if(page==='deacons'){
main.innerHTML=`<h1>Meet the Deacons</h1>
<div style="display:flex; gap:20px; margin-bottom:40px;">
<img src="https://www.bidefordbaptist.org.uk/content/pages/uploaded_images/1647720149-3IvjEpJt.jpg?1730222694" style="width: 500px; height: 250px; border-radius:10px;"/>
<div style="font-size:24px; line-height:1.6; padding-right:400px; padding-top:25px;">
We are a mixed bunch, from various walks of life, but we all feel privileged and blessed to be able to serve our Church Family, using the various gifts and skills we have picked up along the way!
</div>


</div>
<div style="display:flex; gap:20px; margin-bottom:40px; flex-direction:row-reverse;">
  <img src="https://www.bidefordbaptist.org.uk/content/pages/uploaded_images/18.jpg" style="width: 300px; height: 200px; border-radius:10px;"/>
  <div style="font-size:18px; line-height:1.6; padding-left:400px; padding-top:25px;">
    <span style="font-weight:bold; text-decoration:underline;">Janice Goodney - Treasurer</span><br><br>
    I was born in Chiswick in 1956. I got married and went to live in Greece for 5 years. I have one daughter, but unfortunately the marriage did not last. I met my second husband, Dave, 20 years ago (he has recently found Jesus and now sings with us in the Worship Team). I have one step-daughter, and a new grandson, who currently live in Canada. I lived in Bracknell for many years and met with Jesus Christ in a large church, and was baptised in October 2005. God inspired me to move to Bideford and to come to Bideford Baptist Church, to give up my full-time job to work at Wings South-West (a local Christian Charity dedicated to helping young people in this area), all since 2008! I am now the Church Treasurer, and do my best to serve Our Lord and Church family.
    </div>
</div>



</div>
<div style="display:flex; gap:20px; margin-bottom:40px;">
  <img src="https://www.bidefordbaptist.org.uk/content/pages/uploaded_images/15.jpg" style="width: 300px; height: 200px; border-radius:10px;"/>
  <div style="font-size:18px; line-height:1.6; padding-right:400px; padding-top:25px;">
    <span style="font-weight:bold; text-decoration:underline;">Pam Rowland - Pastoral Care Leader and Secretary</span><br><br>
    Hi! - My name is Pam Rowland, I attend Bideford Baptist Church and I became a Church Member in 1981, and a Deacon in 2000. Bideford Baptist Church is my home ‚Äì the love and support which I have received here during some difficult times has been wonderful. We might make mistakes, but our love not only for those who come to Church, but also for those outside, is a testament to God's love pouring out on us. I have recently completed a 3-year Training Course at Bristol Baptist College (‚ÄúPrepare for Service for Lay Preachers/Pastors‚Äù), following which I was appointed as Pastoral Care Leader for the Church, and have enjoyed preaching a few times. This is a clear measure of how much God has been working in my life, as years ago I said I did not believe in women preachers!!!!
  </div>
</div>

</div>
<div style="display:flex; gap:20px; margin-bottom:40px; flex-direction:row-reverse;">
  <img src="https://www.bidefordbaptist.org.uk/content/pages/uploaded_images/16.jpg" style="width: 300px; height: 200px; border-radius:10px; object-fit:cover; object-position: center top;"/>
  <div style="font-size:18px; line-height:1.6; padding-left:400px; padding-top:25px;">
    <span style="font-weight:bold; text-decoration:underline;">John Lester - Deacon</span><br><br>
    Hi ‚Äì I am John Lester, and now retired from \"paid\" employment. I have been a member of this Church since 1971, and a Deacon since 2006. I am blessed with a wonderful wife, children and grandchildren, as well as the wider church family. It is an absolute joy to meet be involved with and to serve this Church Family and where possible the wider community of Bideford. Being a Christian is not an easy road to follow ‚Äì there are bad times, difficult periods and really good times, times of personal success and failure, but through all of these I am so thankful that God's love through His Saviour Son Jesus and the Holy Spirit never, ever stops streaming to us all. God Bless.
  </div>
</div>


</div>
<div style="display:flex; gap:20px; margin-bottom:40px;">
  <img src="https://www.bidefordbaptist.org.uk/content/images/original/jrx3koc4wq2luv5h6ignsb7tm09da8yf1pe.jpeg" style="width: 300px; height: 200px; border-radius:10px; object-fit:cover; object-position: center top;"/>
  <div style="font-size:18px; line-height:1.6; padding-right:400px; padding-top:25px;">
    <span style="font-weight:bold; text-decoration:underline;">Brian Eastman - Deacon</span><br><br>
    Hi, I am Brian, and I have been a member of Bideford Baptist Church since 2013. I was born in Appledore, just a few miles down the road and I used to attend St. Mary's Church in Appledore as a child. I stopped attending church as a teenager and did not return until 2012. Soon after I stumbled across Bideford Baptist Church and it rapidly became my home. I completed a 3 year course at Bristol Baptist College (Prepare for Service for Lay Preachers/Pastors). God has played a massive part in my life and now i have the opportunity and privilege to be able to serve God and His Church.
  </div>
</div>

</div>`;

  } else if(['videos','sermons','resources','devotional','vision'].includes(page)){
    main.innerHTML=`<h1>${page}</h1><p>Apologies for the inconvenience but this page is currently undergoing works, it should be up and running soon.</p>`;
  } else if(page==='images'){
    loadImages();
  } else if(page==='calendar'){
    main.innerHTML=`
      <h1>Calendar</h1>
      <div class="calendar-controls">
        <button onclick="prevMonth()">&lt; Prev</button>
        <div class="calendar-month" id="calendarMonth">Month Year</div>
        <button onclick="nextMonth()">Next &gt;</button>
      </div>
      <div class="calendar-header">
        <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
      </div>
      <div class="calendar-grid" id="calendarGrid"></div>
      <div id="calendarEventDisplay" style="margin-top:20px;">Select a date</div>
    `;
    renderCalendar();

} else if (page==='contact'){
  main.innerHTML=`
    <h1 style="text-align:center; font-size:36px; color:#1e40af; margin-bottom:40px;">Contact Us</h1>
    <div style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center; max-width:900px; margin:auto;">
      
      <div class="contact-card" data-copy="01237 471893" style="flex:1 1 250px; background:#e0e7ff; border-radius:12px; padding:25px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.1); cursor:pointer; transition: transform 0.2s;">
        <div style="font-size:40px; margin-bottom:15px;">üìû</div>
        <div style="font-size:18px; font-weight:bold; margin-bottom:8px;">Phone</div>
        <div style="font-size:16px;">+44 1237 471893<br>01237 471893</div>
      </div>

      <div class="contact-card" data-copy="enquiries@bidefordbaptistchurch.com" style="flex:1 1 250px; background:#e0e7ff; border-radius:12px; padding:25px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.1); cursor:pointer; transition: transform 0.2s;">
        <div style="font-size:40px; margin-bottom:15px;">‚úâÔ∏è</div>
        <div style="font-size:18px; font-weight:bold; margin-bottom:8px;">Email</div>
        <div style="font-size:16px;">enquiries@bidefordbaptistchurch.com</div>
      </div>

      <div class="contact-card" data-copy="Mill Street, Bideford, Devon, EX39 2JR" style="flex:1 1 250px; background:#e0e7ff; border-radius:12px; padding:25px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.1); cursor:pointer; transition: transform 0.2s;">
        <div style="font-size:40px; margin-bottom:15px;">üìç</div>
        <div style="font-size:18px; font-weight:bold; margin-bottom:8px;">Address</div>
        <div style="font-size:16px;">Mill Street, Bideford, Devon, EX39 2JR</div>
      </div>

    </div>

    <!-- Popup element -->
    <div id="copy-popup" style="position:fixed; bottom:-100px; left:50%; transform:translateX(-50%); background:#1e40af; color:white; padding:15px 25px; border-radius:10px; font-weight:bold; font-size:16px; box-shadow:0 4px 12px rgba(0,0,0,0.2); transition: bottom 0.4s ease, opacity 0.4s ease; opacity:0; z-index:1000;"></div>
  `;

  const cards = main.querySelectorAll('.contact-card');
  const popup = document.getElementById('copy-popup');

  cards.forEach(card => {
    card.addEventListener('click', () => {
      const text = card.dataset.copy;
      
      // Copy to clipboard
      navigator.clipboard.writeText(text).then(() => {
        // Show popup
        popup.textContent = `"${text}" Copied!`;
        popup.style.bottom = '50px';
        popup.style.opacity = '1';

        // Hide after 2 seconds
        setTimeout(() => {
          popup.style.bottom = '-100px';
          popup.style.opacity = '0';
        }, 2000);
      });
    });

    // Optional: hover effect
    card.addEventListener('mouseover', () => {
      card.style.transform = 'translateY(-5px)';
      card.style.boxShadow = '0 10px 20px rgba(0,0,0,0.2)';
    });
    card.addEventListener('mouseout', () => {
      card.style.transform = 'translateY(0)';
      card.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';
    });
  });

} else if (page==='links') {
  main.innerHTML = `
    <h1 class="links-title">Useful Links</h1>
    <div class="links-container">
      <a href="https://www.bmsworldmission.org/people/laura-lee-lovering/" target="_blank" rel="noopener" class="link-card">BMS World Mission</a>
      <a href="https://www.christianaid.org.uk" target="_blank" rel="noopener" class="link-card">Christian Aid</a>
      <a href="http://www.capuk.org" target="_blank" rel="noopener" class="link-card">Christians Against Poverty</a>
      <a href="https://www.facebook.com/Bideford-Baptist-Church-245000248844449/" target="_blank" rel="noopener" class="link-card">Facebook</a>
      <a href="http://www.harbourbideford.co.uk" target="_blank" rel="noopener" class="link-card">Harbour (Bideford)</a>
      <a href="https://www.opendoorsuk.org/" target="_blank" rel="noopener" class="link-card">Open Doors</a>
      <a href="https://www.samaritans-purse.org.uk/what-we-do/operation-christmas-child" target="_blank" rel="noopener" class="link-card">Samaritan's Purse ‚Äì Operation Christmas Child</a>
      <a href="https://www.swbaptists.org.uk/" target="_blank" rel="noopener" class="link-card">South West Baptist Association</a>
      <a href="https://www.streetpastors.org/" target="_blank" rel="noopener" class="link-card">Street Pastors</a>
    </div>
  `;

  // Add CSS dynamically
  const style = document.createElement('style');
  style.textContent = `
    .links-title {
      text-align: center;
      font-size: 36px;
      margin-bottom: 30px;
      color: #1e40af;
    }
    .links-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      max-width: 900px;
      margin: auto;
    }
    .link-card {
      flex: 1 1 250px;
      text-decoration: none;
      color: #1e40af;
      background: #e0e7ff;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      font-size: 16px;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .link-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
  `;
  document.head.appendChild(style);

} else if (page==='events')
  main.innerHTML = `
    <h1>Current Events</h1>
    <div class="events-container" style="margin-top:30px;">
      <div class="event-box" data-title="World Week of Prayer" data-description="Join us for daily Prayer Walks!">
        World Week of Prayer
      </div>
    </div>

    <!-- Overlay for enlarged event -->
    <div id="eventOverlay">
      <div id="enlargedEvent">
        <h2 id="eventTitle"></h2>
        <div id="eventDescription"></div>
      </div>
    </div>
  `;

  // CSS dynamically
  const style = document.createElement('style');
  style.textContent = `
    .events-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: flex-start;
      margin-top: 20px;
    }
    .event-box {
      background: #e0f2ff;
      color: #1d4ed8;
      padding: 20px;
      border-radius: 8px;
      min-width: 180px;
      max-width: 220px;
      text-align: center;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      margin-top: 20px;
    }
    .event-box:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
    #eventOverlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
      z-index: 3000;
    }
    #enlargedEvent {
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      max-width: 500px;
      width: 80%;
      text-align: center;
      transform: scale(0);
      transition: transform 0.3s ease;
    }
    #eventOverlay.show #enlargedEvent {
      transform: scale(1);
    }
    #enlargedEvent h2 {
      margin-bottom: 15px;
      font-size: 24px;
    }
    #eventDescription {
      display: flex;
      flex-direction: column;
      gap: 10px;
      font-size: 18px;
    }
    .event-date {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #f0f9ff;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: 500;
    }
    .event-date button {
      padding: 5px 10px;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
    }
    .event-date button:hover {
      background: #2563eb;
    }
  `;
  document.head.appendChild(style);

  // JS for click animation
  const eventBox = main.querySelector('.event-box');
  const overlay = document.getElementById('eventOverlay');
  const enlarged = document.getElementById('enlargedEvent');
  const title = document.getElementById('eventTitle');
  const description = document.getElementById('eventDescription');

  const prayerWalkDates = [
    "2025-09-06",
    "2025-09-07",
    "2025-09-08",
    "2025-09-09",
    "2025-09-10",
    "2025-09-11",
    "2025-09-12",
    "2025-09-13",
    "2025-09-14"
  ];

  function formatDate(dateStr) {
    const today = new Date();
    const dateObj = new Date(dateStr);
    const diff = (dateObj - new Date(today.getFullYear(), today.getMonth(), today.getDate())) / (1000*60*60*24);

    if(diff === 0) return "Today";
    if(diff === 1) return "Tomorrow";
    if(diff === -1) return "Yesterday";

    // format e.g., "6 Sep"
    return dateObj.getDate() + " " + dateObj.toLocaleString('en-GB', { month: 'short' });
  }

  eventBox.addEventListener('click', () => {
    title.innerText = eventBox.dataset.title;
    description.innerHTML = ''; // clear previous

    prayerWalkDates.forEach(date => {
      const div = document.createElement('div');
      div.className = 'event-date';
      div.innerHTML = `<span>${formatDate(date)} - Prayer Walk</span><button>View</button>`;
      div.querySelector('button').addEventListener('click', () => {
        alert("Apologies for the inconvenience, but we are still working on the information for this event. We will be done soon!");
      });
      description.appendChild(div);
    });

    overlay.style.display = 'flex';
    setTimeout(() => overlay.classList.add('show'), 10); // trigger scale animation
  });

  overlay.addEventListener('click', (e) => {
    if(e.target === overlay){
      overlay.classList.remove('show');
      setTimeout(() => overlay.style.display='none', 300);
    }
  });
}


// Calendar rendering
const monthNames = ["January","February","March","April","May","June","July","August","September","October","November","December"];
let currentDate = new Date();

const weekdayEvents = {
  0: "Sunday Service",
  1: "Quiet Space",
  2: "Quiet Space",
  3: "Quiet Space",
  4: "Quiet Space",
  5: "Quiet Space",
  6: "Quiet Space"
};

const specialEvents = {
  "2025-09-06": "Prayer Walk",
  "2025-09-07": "Prayer Walk",
  "2025-09-08": "Prayer Walk",
  "2025-09-09": "Prayer Walk",
  "2025-09-10": "Prayer Walk",
  "2025-09-11": "Prayer Walk",
  "2025-09-12": "Prayer Walk",
  "2025-09-13": "Prayer Walk",
  "2025-09-14": "Prayer Walk"
};

function getOrdinal(n) {
  if(n>3 && n<21) return 'th';
  switch(n%10) {
    case 1: return "st";
    case 2: return "nd";
    case 3: return "rd";
    default: return "th";
  }
}

function renderCalendar() {
  const grid = document.getElementById("calendarGrid");
  grid.innerHTML = "";
  const year = currentDate.getFullYear();
  const month = currentDate.getMonth();

  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();

  for(let i=0; i<firstDay; i++){
    const blank = document.createElement("div");
    blank.className = "day other-month";
    blank.innerHTML = `<div class="date-number"></div>`;
    grid.appendChild(blank);
  }

  for(let d=1; d<=daysInMonth; d++){
    const dayDiv = document.createElement("div");
    dayDiv.className = "day";
    dayDiv.dataset.day = d;
    dayDiv.innerHTML = `<div class="date-number">${d}</div>`;

    const dateObj = new Date(year, month, d);
    const dateKey = `${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;

    // Highlight today
    const today = new Date();
    if(today.getFullYear()===year && today.getMonth()===month && today.getDate()===d){
      dayDiv.style.backgroundColor = "#50C878"; // Emerald
      dayDiv.style.color = "white";
      dayDiv.style.fontWeight = "bold";
      dayDiv.style.borderRadius = "5px";
    }

    // Weekday events
    if(weekdayEvents[dateObj.getDay()]){
      dayDiv.innerHTML += `<div class="event">${weekdayEvents[dateObj.getDay()]}</div>`;
    }

    // Special events
    if(specialEvents[dateKey]){
      dayDiv.innerHTML += `<div class="event">${specialEvents[dateKey]}</div>`;
    }

    // Click to display events
    dayDiv.addEventListener('click', ()=> {
      const events = [];
      if(weekdayEvents[dateObj.getDay()]) events.push(weekdayEvents[dateObj.getDay()]);
      if(specialEvents[dateKey]) events.push(specialEvents[dateKey]);
      const eventText = events.length ? events.join(", ") : "No events";
      document.getElementById("calendarEventDisplay").innerHTML =
        `<strong>${d}${getOrdinal(d)} ${monthNames[month]} ${year}:</strong> ${eventText}`;
    });

    grid.appendChild(dayDiv);
  }

  const totalCells = 42;
  while(grid.children.length < totalCells){
    const blank = document.createElement("div");
    blank.className = "day other-month";
    blank.innerHTML = `<div class="date-number"></div>`;
    grid.appendChild(blank);
  }

  document.getElementById("calendarMonth").innerText = monthNames[month]+" "+year;
}

function prevMonth(){
  currentDate.setMonth(currentDate.getMonth()-1);
  renderCalendar();
}

function nextMonth(){
  currentDate.setMonth(currentDate.getMonth()+1);
  renderCalendar();
}

// Initialize first page load
navigateTo('home');
</script>
</body>
</html>
